@inherits LayoutComponentBase
@inject NavigationManager Navigation

<div class="page-container">
    <header class="navbar">
        <div class="logo">Examination Board</div>
        <nav>
            <NavLink href="/">Home</NavLink>
            <NavLink href="/about">About Us</NavLink>
            
            @* 只在非 Home 页面显示 Login/Logout 按钮 *@
            @if (!IsHomePage)
            {
                <NavLink href="/Account/Login">Logout</NavLink>
            }
        </nav>
    </header>

    <main>
        @Body
    </main>

    <footer>
        © Examination Board
    </footer>
</div>

<link href="/css/site.css" rel="stylesheet" />

@code {
    private bool IsHomePage
    {
        get
        {
            var currentUri = Navigation.Uri;
            var baseUri = Navigation.BaseUri;
            
            return currentUri == baseUri || 
                   currentUri == baseUri.TrimEnd('/') ||
                   currentUri.EndsWith("/") && currentUri.Length == baseUri.Length;
        }
    }
}